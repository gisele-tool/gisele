[
    :unit,
    [
        :task_def,
        "Complete",
        [
            :task_signature,
            [
                :trackvar,
                "everyOneHappy",
                [
                    :event_set,
                    "FirstTask:start"
                ],
                [
                    :event_set
                ],
                nil
            ],
            [
                :fluent,
                "someoneHappy",
                [
                    :event_set,
                    "DrinkBeer:start",
                    "DrinkBeers:start"
                ],
                [
                    :event_set,
                    "DoNothingSpecial:end"
                ],
                false
            ],
            [
                :task_def,
                "DrinkBeers",
                [
                    :task_signature
                ],
                [
                    :task_refinement,
                    [
                        :while_st,
                        [
                            :bool_expr,
                            [
                                :bool_not,
                                [
                                    :var_ref,
                                    "drunk"
                                ]
                            ]
                        ],
                        [
                            :task_call_st,
                            "DrinkBeer"
                        ]
                    ]
                ]
            ]
        ],
        [
            :task_refinement,
            [
                :seq_st,
                [
                    :task_call_st,
                    "FirstTask"
                ],
                [
                    :if_st,
                    [
                        :bool_expr,
                        [
                            :var_ref,
                            "everyoneHappy"
                        ]
                    ],
                    [
                        :par_st,
                        [
                            :task_call_st,
                            "MakeJoy"
                        ],
                        [
                            :task_call_st,
                            "DrinkBeers"
                        ]
                    ],
                    [
                        :else_clause,
                        [
                            :if_st,
                            [
                                :bool_expr,
                                [
                                    :var_ref,
                                    "someoneHappy"
                                ]
                            ],
                            [
                                :task_call_st,
                                "DrinkBeer"
                            ],
                            [
                                :else_clause,
                                [
                                    :task_call_st,
                                    "DoNothingSpecial"
                                ]
                            ]
                        ]
                    ]
                ],
                [
                    :while_st,
                    [
                        :bool_expr,
                        [
                            :bool_not,
                            [
                                :var_ref,
                                "endOfTheDay"
                            ]
                        ]
                    ],
                    [
                        :task_call_st,
                        "WaitAndSee"
                    ]
                ]
            ]
        ]
    ]
]
